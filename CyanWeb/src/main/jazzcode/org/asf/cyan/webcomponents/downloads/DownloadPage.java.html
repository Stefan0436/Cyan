<?jcil
install "org.asf.cyan.webcomponents.downloads.DownloadPage"
?>

<style>
#contentd {
	text-align: center;
	margin-top: 8%;
}

#downloads-btn-preparing {
	height: 3%;
	border: 1px inset;
	transition: 0.1s;
	border-radius: 10px;
	background-color: #006aa3;
	height: 30px;
	width: 250px;
	font-size: 20px;
}

#downloads-btn {
	height: 3%;
	border: 1px outset;
	transition: 0.1s;
	border-radius: 10px;
	background-color: cyan;
	height: 30px;
	width: 250px;
	font-size: 20px;
	margin-top: 2px;
}

#downloads-btn:hover {
	border: 1px inset;
}

#downloads-btn:active {
	border: 2px inset;
	background-color: blue;
}

#log {
	height: 30%;
	width: 99%;
	resize: none;
	font-family: monospace;
}

#loader {
	float: right;
	margin: 0;
	margin-top: 0.5%;
	margin-right: 1%;
	display: block;
  	border: 5px solid;
  	border-radius: 50%;
	border-top: 5px solid #3498db;
	width: 25px;
	height: 25px;
	-webkit-animation: spin 2s linear infinite;
	animation: spin 2s linear infinite;
}

/* Safari */
@-webkit-keyframes spin {
  0% { -webkit-transform: rotate(0deg); }
  100% { -webkit-transform: rotate(360deg); }
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
</style>

<div id="contentd">	
	<a id="compiler-info" data-platform="${platform}" data-version="${version}" data-modloader="${modloaderversion}" data-repository="${repository}" />
	<!-- <div id="compiler" style="${style.compiler}">
	
		${elements}
		<h1 id="compilestatus">Compiler status: ${compile.status}</h1>
		<textarea id="log" readonly></textarea>

		<br /> <br />
	</div> -->
	<?jcil
	run init()
	?>

	<div id="download" style="${style.download}">
		<h1>Download Cyan (${platform} ${modloaderversion}):</h1>
		<button onclick="window.location.href='${installerlink}'" id="downloads-btn" class="installerbtn">Download installer</button>
		<button data-url="${filedir}/cyan-sources-${cyanversion}.zip" id="downloads-btn-preparing" class="sourcesbtn">Preparing sources...</button>
		<div id="modkits" style="${style.modkits}">
			<button onclick="window.location.href='${filedir}/modkits/cyan-modkit-${version}-${platform}-${modloaderversion}-${cyanversion}.zip'" id="downloads-btn" class="modkitbtn">Download ModKit</button>
			<button onclick="window.location.href='${filedir}/modkits/cyan-coremodkit-${version}-${platform}-${modloaderversion}-${cyanversion}.zip'" id="downloads-btn" class="coremodkitbtn">Download CoreModKit</button>
		</div>
		<div class="updatekitbtn">
			<button onclick="window.location.href='jc:downloadAutoUpdateKit(platform: ${platform}, version: ${version}, modloader: ${modloaderversion}, repository: ${repository}, execPath: ${execPathEncoded})'" id="downloads-btn" style="width: 375px; margin-top: 5px">Download server auto-update kit</button>
			<br/>
		</div>
		<br/>
	</div>
	
	<button onclick="javascript:goNav('${repository}, page: ${targetpage}, version: ${version}, platform: ${platform}, backpage: ${backpage}')" id="downloads-btn" style="margin-top: 10px">Go
		back</button>
	<br/>
</div>
